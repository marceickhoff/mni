!function(t){var e={};function n(i){if(e[i])return e[i].exports;var s=e[i]={i:i,l:!1,exports:{}};return t[i].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(i,s,function(e){return t[e]}.bind(null,s));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n(n.s=1)}([function(t,e){t.exports={selectors:{nav:".nav",navList:".nav-list",navItem:".nav-item",navToggle:".nav-toggle"},states:{active:"active",sticky:"sticky"},init:function(){var t=this,e=t.selectors;return document.querySelectorAll(e.nav).forEach((function(n){n.open=t.open,n.close=t.close,n.toggle=t.toggle,n.stick=t.stick,n.unstick=t.unstick,n.isHorizontal=t.isHorizontal,n.querySelector(e.navToggle).addEventListener("click",(function(){n.toggle()})),window.addEventListener("resize",(function(){n.close()}));var i=n.offsetTop;if(n.hasAttribute("data-sticky")){var s=function(){window.scrollY>i?n.stick():n.unstick()};s(),window.addEventListener("scroll",s)}})),this},open:function(){this.classList.add(t.exports.states.active)},close:function(){this.classList.remove(t.exports.states.active)},toggle:function(){this.classList.toggle(t.exports.states.active)},stick:function(){this.classList.add(t.exports.states.sticky)},unstick:function(){this.classList.remove(t.exports.states.sticky)},isHorizontal:function(){var e,n=!0;return this.querySelectorAll(t.exports.selectors.navItem).forEach((function(t){if(void 0===e)e=t.offsetTop;else if(e!==t.offsetTop)return n=!1})),n}}},function(t,e,n){n(2),t.exports=n(11)},function(t,e,n){n(3)},function(t,e,n){t.exports=mni={modernizr:n(4).init(),nav:n(0).init(),subnav:n(6).init(),lazy:n(7).init(),lightbox:n(9).init()}},function(t,e,n){(function(e){t.exports={init:function(){e.testStyles("#modernizr {display: flex;width: 10px}#modernizr > div {box-sizing: border-box;padding: 1px; border: 1px solid transparent;flex-basis: 50%;}",(function(){e.addTest("flexbox-sizing",5===document.getElementById("modernizr1").offsetWidth)}),2)}}}).call(this,n(5))},function(t,e){!function(e){var n="Modernizr"in e,i=e.Modernizr;!function(t,e,n){var i=[],s={_version:"3.8.0",_config:{classPrefix:"supports-",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(t,e){var n=this;setTimeout((function(){e(n[t])}),0)},addTest:function(t,e,n){i.push({name:t,fn:e,options:n})},addAsyncTest:function(t){i.push({name:null,fn:t})}},o=function(){};o.prototype=s,o=new o;var r=[];function a(t,e){return typeof t===e}var l,c,u=e.documentElement,f="svg"===u.nodeName.toLowerCase();function d(t){var e=u.className,n=o._config.classPrefix||"";if(f&&(e=e.baseVal),o._config.enableJSClass){var i=new RegExp("(^|\\s)"+n+"no-js(\\s|$)");e=e.replace(i,"$1"+n+"js$2")}o._config.enableClasses&&(t.length>0&&(e+=" "+n+t.join(" "+n)),f?u.className.baseVal=e:u.className=e)}function h(t,e){if("object"==typeof t)for(var n in t)l(t,n)&&h(n,t[n]);else{var i=(t=t.toLowerCase()).split("."),s=o[i[0]];if(2===i.length&&(s=s[i[1]]),void 0!==s)return o;e="function"==typeof e?e():e,1===i.length?o[i[0]]=e:(!o[i[0]]||o[i[0]]instanceof Boolean||(o[i[0]]=new Boolean(o[i[0]])),o[i[0]][i[1]]=e),d([(e&&!1!==e?"":"no-")+i.join("-")]),o._trigger(t,e)}return o}function p(){return"function"!=typeof e.createElement?e.createElement(arguments[0]):f?e.createElementNS.call(e,"http://www.w3.org/2000/svg",arguments[0]):e.createElement.apply(e,arguments)}function v(t,n,i,s){var o,r,a,l,c="modernizr",d=p("div"),h=function(){var t=e.body;return t||((t=p(f?"svg":"body")).fake=!0),t}();if(parseInt(i,10))for(;i--;)(a=p("div")).id=s?s[i]:c+(i+1),d.appendChild(a);return(o=p("style")).type="text/css",o.id="s"+c,(h.fake?h:d).appendChild(o),h.appendChild(d),o.styleSheet?o.styleSheet.cssText=t:o.appendChild(e.createTextNode(t)),d.id=c,h.fake&&(h.style.background="",h.style.overflow="hidden",l=u.style.overflow,u.style.overflow="hidden",u.appendChild(h)),r=n(d,t),h.fake?(h.parentNode.removeChild(h),u.style.overflow=l,u.offsetHeight):d.parentNode.removeChild(d),!!r}l=a(c={}.hasOwnProperty,"undefined")||a(c.call,"undefined")?function(t,e){return e in t&&a(t.constructor.prototype[e],"undefined")}:function(t,e){return c.call(t,e)},s._l={},s.on=function(t,e){this._l[t]||(this._l[t]=[]),this._l[t].push(e),o.hasOwnProperty(t)&&setTimeout((function(){o._trigger(t,o[t])}),0)},s._trigger=function(t,e){if(this._l[t]){var n=this._l[t];setTimeout((function(){var t;for(t=0;t<n.length;t++)(0,n[t])(e)}),0),delete this._l[t]}},o._q.push((function(){s.addTest=h}));s.testStyles=v;var g=s._config.usePrefixes?"Moz O ms Webkit".split(" "):[];s._cssomPrefixes=g;var m={elem:p("modernizr")};o._q.push((function(){delete m.elem}));var y={style:m.elem.style};function b(t){return t.replace(/([A-Z])/g,(function(t,e){return"-"+e.toLowerCase()})).replace(/^ms-/,"-ms-")}function _(e,i){var s=e.length;if("CSS"in t&&"supports"in t.CSS){for(;s--;)if(t.CSS.supports(b(e[s]),i))return!0;return!1}if("CSSSupportsRule"in t){for(var o=[];s--;)o.push("("+b(e[s])+":"+i+")");return v("@supports ("+(o=o.join(" or "))+") { #modernizr { position: absolute; } }",(function(e){return"absolute"===function(e,n,i){var s;if("getComputedStyle"in t){s=getComputedStyle.call(t,e,n);var o=t.console;if(null!==s)i&&(s=s.getPropertyValue(i));else if(o)o[o.error?"error":"log"].call(o,"getComputedStyle returning null, its possible modernizr test results are inaccurate")}else s=!n&&e.currentStyle&&e.currentStyle[i];return s}(e,null,"position")}))}return n}o._q.unshift((function(){delete y.style}));var x=s._config.usePrefixes?"Moz O ms Webkit".toLowerCase().split(" "):[];function w(t,e){return function(){return t.apply(e,arguments)}}function S(t,e,i,s,o){var r=t.charAt(0).toUpperCase()+t.slice(1),l=(t+" "+g.join(r+" ")+r).split(" ");return a(e,"string")||a(e,"undefined")?function(t,e,i,s){if(s=!a(s,"undefined")&&s,!a(i,"undefined")){var o=_(t,i);if(!a(o,"undefined"))return o}for(var r,l,c,u,f,d=["modernizr","tspan","samp"];!y.style&&d.length;)r=!0,y.modElem=p(d.shift()),y.style=y.modElem.style;function h(){r&&(delete y.style,delete y.modElem)}for(c=t.length,l=0;l<c;l++)if(u=t[l],f=y.style[u],~(""+u).indexOf("-")&&(u=u.replace(/([a-z])-([a-z])/g,(function(t,e,n){return e+n.toUpperCase()})).replace(/^-/,"")),y.style[u]!==n){if(s||a(i,"undefined"))return h(),"pfx"!==e||u;try{y.style[u]=i}catch(t){}if(y.style[u]!==f)return h(),"pfx"!==e||u}return h(),!1}(l,e,s,o):function(t,e,n){var i;for(var s in t)if(t[s]in e)return!1===n?t[s]:a(i=e[t[s]],"function")?w(i,n||e):i;return!1}(l=(t+" "+x.join(r+" ")+r).split(" "),e,i)}function O(t,e,i){return S(t,n,n,e,i)}s._domPrefixes=x,s.testAllProps=S,s.testAllProps=O,o.addTest("cssgridlegacy",O("grid-columns","10px",!0)),o.addTest("cssgrid",O("grid-template-rows","none",!0)),o.addTest("flexbox",O("flexBasis","1px",!0)),o.addTest("csstransforms",(function(){return-1===navigator.userAgent.indexOf("Android 2.")&&O("transform","scale(1)",!0)}));var k="CSS"in t&&"supports"in t.CSS,z="supportsCSS"in t;o.addTest("supports",k||z),o.addTest("csstransforms3d",(function(){return!!O("perspective","1px",!0)})),function(){var t,e,n,s,l,c;for(var u in i)if(i.hasOwnProperty(u)){if(t=[],(e=i[u]).name&&(t.push(e.name.toLowerCase()),e.options&&e.options.aliases&&e.options.aliases.length))for(n=0;n<e.options.aliases.length;n++)t.push(e.options.aliases[n].toLowerCase());for(s=a(e.fn,"function")?e.fn():e.fn,l=0;l<t.length;l++)1===(c=t[l].split(".")).length?o[c[0]]=s:(o[c[0]]&&(!o[c[0]]||o[c[0]]instanceof Boolean)||(o[c[0]]=new Boolean(o[c[0]])),o[c[0]][c[1]]=s),r.push((s?"":"no-")+c.join("-"))}}(),d(r),delete s.addTest,delete s.addAsyncTest;for(var E=0;E<o._q.length;E++)o._q[E]();t.Modernizr=o}(e,document),t.exports=e.Modernizr,n?e.Modernizr=i:delete e.Modernizr}(window)},function(t,e,n){var i=n(0);t.exports={selectors:{subnav:".subnav"},states:{active:"active"},init:function(){var t=this,e=t.selectors;document.querySelectorAll(e.subnav).forEach((function(e){e.isOpen=t.isOpen,e.open=t.open,e.close=t.close,e.toggle=t.toggle,e.hasHeightTransition=t.hasHeightTransition;for(var n=e;(n=n.parentElement)&&!(n.matches||n.matchesSelector).call(n,i.selectors.nav););document.addEventListener("click",(function(t){var s=t.target===i.selectors.navList;s||document.querySelectorAll(i.selectors.navList).forEach((function(e){if(e.contains(t.target))return s=!0})),!e.isOpen()||s&&!n.isHorizontal()?e.parentElement===t.target.parentElement&&e.toggle():e.close()})),window.addEventListener("resize",(function(){e.close()}))}))},isOpen:function(){return this.classList.contains(t.exports.states.active)},open:function(){if(this.classList.add(t.exports.states.active),this.hasHeightTransition()){var e=this.offsetHeight+"px",n=this;n.style.height=0,requestAnimationFrame((function(){n.style.height=e}))}},close:function(){this.classList.remove(t.exports.states.active),this.hasHeightTransition()&&(this.style.height=null)},toggle:function(){this.isOpen()?this.close():this.open()},hasHeightTransition:function(){var t=getComputedStyle(this).transitionDuration,e=getComputedStyle(this).transitionProperty;return"0s"!==t&&("all"===e||-1!==e.indexOf("height"))}}},function(t,e,n){var i=n(8);t.exports={selectors:{container:".lazy",element:".lazy-media"},states:{loading:"loading",loaded:"loaded",error:"loading"},spinner:{type:"div",class:"spinner"},lazyLoadInstances:[],init:function(){new i({elements_selector:t.exports.selectors.container,class_loading:null,class_loaded:null,class_error:null,callback_enter:function(e){var n=new i({use_native:!1,container:e,elements_selector:t.exports.selectors.element,class_loading:t.exports.states.loading,class_loaded:t.exports.states.loaded,class_error:t.exports.states.error,callback_reveal:function(e){var n=document.createElement(t.exports.spinner.type);n.classList.add(t.exports.spinner.class),e.after(n)},callback_loaded:function(e){for(var n;n=e.nextSibling;)if(n.classList.contains(t.exports.spinner.class))return void n.remove()}});t.exports.lazyLoadInstances.push(n)}})}}},function(t,e,n){var i,s,o;function r(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function a(){return(a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(){"use strict";var t="undefined"!=typeof window,e=t&&!("onscroll"in window)||"undefined"!=typeof navigator&&/(gle|ing|ro)bot|crawl|spider/i.test(navigator.userAgent),n=t&&"IntersectionObserver"in window,i=t&&"classList"in document.createElement("p"),s={elements_selector:"img",container:e||t?document:null,threshold:300,thresholds:null,data_src:"src",data_srcset:"srcset",data_sizes:"sizes",data_bg:"bg",data_poster:"poster",class_loading:"loading",class_loaded:"loaded",class_error:"error",load_delay:0,auto_unobserve:!0,callback_enter:null,callback_exit:null,callback_reveal:null,callback_loaded:null,callback_error:null,callback_finish:null,use_native:!1},o=function(t,e){var n,i=new t(e);try{n=new CustomEvent("LazyLoad::Initialized",{detail:{instance:i}})}catch(t){(n=document.createEvent("CustomEvent")).initCustomEvent("LazyLoad::Initialized",!1,!1,{instance:i})}window.dispatchEvent(n)},l=function(t,e){return t.getAttribute("data-"+e)},c=function(t,e,n){var i="data-"+e;null!==n?t.setAttribute(i,n):t.removeAttribute(i)},u=function(t){return"true"===l(t,"was-processed")},f=function(t,e){return c(t,"ll-timeout",e)},d=function(t){return l(t,"ll-timeout")},h=function(t,e,n,i){t&&(void 0===i?void 0===n?t(e):t(e,n):t(e,n,i))},p=function(t,e){t._loadingCount+=e,0===t._elements.length&&0===t._loadingCount&&h(t._settings.callback_finish,t)},v=function(t){for(var e,n=[],i=0;e=t.children[i];i+=1)"SOURCE"===e.tagName&&n.push(e);return n},g=function(t,e,n){n&&t.setAttribute(e,n)},m=function(t,e){g(t,"sizes",l(t,e.data_sizes)),g(t,"srcset",l(t,e.data_srcset)),g(t,"src",l(t,e.data_src))},y={IMG:function(t,e){var n=t.parentNode;n&&"PICTURE"===n.tagName&&v(n).forEach((function(t){m(t,e)})),m(t,e)},IFRAME:function(t,e){g(t,"src",l(t,e.data_src))},VIDEO:function(t,e){v(t).forEach((function(t){g(t,"src",l(t,e.data_src))})),g(t,"poster",l(t,e.data_poster)),g(t,"src",l(t,e.data_src)),t.load()}},b=function(t,e){var n,i,s=e._settings,o=t.tagName,r=y[o];if(r)return r(t,s),p(e,1),void(e._elements=(n=e._elements,i=t,n.filter((function(t){return t!==i}))));!function(t,e){var n=l(t,e.data_src),i=l(t,e.data_bg);n&&(t.style.backgroundImage='url("'.concat(n,'")')),i&&(t.style.backgroundImage=i)}(t,s)},_=function(t,e){i?t.classList.add(e):t.className+=(t.className?" ":"")+e},x=function(t,e){i?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\s+)"+e+"(\\s+|$)")," ").replace(/^\s+/,"").replace(/\s+$/,"")},w=function(t,e,n){t.addEventListener(e,n)},S=function(t,e,n){t.removeEventListener(e,n)},O=function(t,e,n){S(t,"load",e),S(t,"loadeddata",e),S(t,"error",n)},k=function(t,e,n){var i=n._settings,s=e?i.class_loaded:i.class_error,o=e?i.callback_loaded:i.callback_error,r=t.target;x(r,i.class_loading),_(r,s),h(o,r,n),p(n,-1)},z=function(t,e){var n=function n(s){k(s,!0,e),O(t,n,i)},i=function i(s){k(s,!1,e),O(t,n,i)};!function(t,e,n){w(t,"load",e),w(t,"loadeddata",e),w(t,"error",n)}(t,n,i)},E=["IMG","IFRAME","VIDEO"],C=function(t,e){var n=e._observer;A(t,e),n&&e._settings.auto_unobserve&&n.unobserve(t)},T=function(t){var e=d(t);e&&(clearTimeout(e),f(t,null))},L=function(t,e){var n=e._settings.load_delay,i=d(t);i||(i=setTimeout((function(){C(t,e),T(t)}),n),f(t,i))},A=function(t,e,n){var i=e._settings;!n&&u(t)||(E.indexOf(t.tagName)>-1&&(z(t,e),_(t,i.class_loading)),b(t,e),function(t){c(t,"was-processed","true")}(t),h(i.callback_reveal,t,e),h(i.callback_set,t,e))},I=function(t){return!!n&&(t._observer=new IntersectionObserver((function(e){e.forEach((function(e){return function(t){return t.isIntersecting||t.intersectionRatio>0}(e)?function(t,e,n){var i=n._settings;h(i.callback_enter,t,e,n),i.load_delay?L(t,n):C(t,n)}(e.target,e,t):function(t,e,n){var i=n._settings;h(i.callback_exit,t,e,n),i.load_delay&&T(t)}(e.target,e,t)}))}),{root:(e=t._settings).container===document?null:e.container,rootMargin:e.thresholds||e.threshold+"px"}),!0);var e},P=["IMG","IFRAME"],j=function(t,e){return function(t){return t.filter((function(t){return!u(t)}))}((n=t||function(t){return t.container.querySelectorAll(t.elements_selector)}(e),Array.prototype.slice.call(n)));var n},M=function(t){var e=t._settings;r(e.container.querySelectorAll("."+e.class_error)).forEach((function(t){x(t,e.class_error),function(t){c(t,"was-processed",null)}(t)})),t.update()},N=function(e,n){var i;this._settings=function(t){return a({},s,t)}(e),this._loadingCount=0,I(this),this.update(n),i=this,t&&window.addEventListener("online",(function(t){M(i)}))};return N.prototype={update:function(t){var n,i=this,s=this._settings;this._elements=j(t,s),!e&&this._observer?(function(t){return t.use_native&&"loading"in HTMLImageElement.prototype}(s)&&((n=this)._elements.forEach((function(t){-1!==P.indexOf(t.tagName)&&(t.setAttribute("loading","lazy"),A(t,n))})),this._elements=j(t,s)),this._elements.forEach((function(t){i._observer.observe(t)}))):this.loadAll()},destroy:function(){var t=this;this._observer&&(this._elements.forEach((function(e){t._observer.unobserve(e)})),this._observer=null),this._elements=null,this._settings=null},load:function(t,e){A(t,this,e)},loadAll:function(){var t=this;this._elements.forEach((function(e){C(e,t)}))}},t&&function(t,e){if(e)if(e.length)for(var n,i=0;n=e[i];i+=1)o(t,n);else o(t,e)}(N,window.lazyLoadOptions),N},"object"===l(e)&&void 0!==t?t.exports=o():void 0===(s="function"==typeof(i=o)?i.call(e,n,e,t):i)||(t.exports=s)},function(t,e,n){var i=n(10);t.exports={selectors:{image:".zoomable"},states:{active:"active"},init:function(){document.addEventListener("DOMContentLoaded",(function(){new i({onOpen:function(e){e.classList.add(t.exports.states.active)},onClose:function(e){e.classList.remove(t.exports.states.active)}}).listen(t.exports.selectors.image)}))}}},function(t,e,n){t.exports=function(){"use strict";var t="auto",e="zoom-in",n="zoom-out",i="grab",s="move";function o(t,e,n){var i={passive:!1};arguments.length>3&&void 0!==arguments[3]&&!arguments[3]?t.removeEventListener(e,n,i):t.addEventListener(e,n,i)}function r(t,e){if(t){var n=new Image;n.onload=function(){e&&e(n)},n.src=t}}function a(t){return t.dataset.original?t.dataset.original:"A"===t.parentNode.tagName?t.parentNode.getAttribute("href"):null}function l(t,e,n){!function(t){var e=c.transitionProp,n=c.transformProp;if(t.transition){var i=t.transition;delete t.transition,t[e]=i}if(t.transform){var s=t.transform;delete t.transform,t[n]=s}}(e);var i=t.style,s={};for(var o in e)n&&(s[o]=i[o]||""),i[o]=e[o];return s}var c={transitionProp:"transition",transEndEvent:"transitionend",transformProp:"transform",transformCssProp:"transform"},u=c.transformCssProp,f=c.transEndEvent,d=function(){},h={enableGrab:!0,preloadImage:!1,closeOnWindowResize:!0,transitionDuration:.4,transitionTimingFunction:"cubic-bezier(0.4, 0, 0, 1)",bgColor:"rgb(255, 255, 255)",bgOpacity:1,scaleBase:1,scaleExtra:.5,scrollThreshold:40,zIndex:998,customSize:null,onOpen:d,onClose:d,onGrab:d,onMove:d,onRelease:d,onBeforeOpen:d,onBeforeClose:d,onBeforeGrab:d,onBeforeRelease:d,onImageLoading:d,onImageLoaded:d},p={init:function(t){var e,n;e=this,n=t,Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach((function(t){e[t]=e[t].bind(n)}))},click:function(t){if(t.preventDefault(),g(t))return window.open(this.target.srcOriginal||t.currentTarget.src,"_blank");this.shown?this.released?this.close():this.release():this.open(t.currentTarget)},scroll:function(){var t=document.documentElement||document.body.parentNode||document.body,e=window.pageXOffset||t.scrollLeft,n=window.pageYOffset||t.scrollTop;null===this.lastScrollPosition&&(this.lastScrollPosition={x:e,y:n});var i=this.lastScrollPosition.x-e,s=this.lastScrollPosition.y-n,o=this.options.scrollThreshold;(Math.abs(s)>=o||Math.abs(i)>=o)&&(this.lastScrollPosition=null,this.close())},keydown:function(t){(function(t){return"Escape"===(t.key||t.code)||27===t.keyCode})(t)&&(this.released?this.close():this.release(this.close))},mousedown:function(t){if(v(t)&&!g(t)){t.preventDefault();var e=t.clientX,n=t.clientY;this.pressTimer=setTimeout(function(){this.grab(e,n)}.bind(this),200)}},mousemove:function(t){this.released||this.move(t.clientX,t.clientY)},mouseup:function(t){v(t)&&!g(t)&&(clearTimeout(this.pressTimer),this.released?this.close():this.release())},touchstart:function(t){t.preventDefault();var e=t.touches[0],n=e.clientX,i=e.clientY;this.pressTimer=setTimeout(function(){this.grab(n,i)}.bind(this),200)},touchmove:function(t){if(!this.released){var e=t.touches[0],n=e.clientX,i=e.clientY;this.move(n,i)}},touchend:function(t){(function(t){t.targetTouches.length})(t)||(clearTimeout(this.pressTimer),this.released?this.close():this.release())},clickOverlay:function(){this.close()},resizeWindow:function(){this.close()}};function v(t){return 0===t.button}function g(t){return t.metaKey||t.ctrlKey}var m={init:function(t){this.el=document.createElement("div"),this.instance=t,this.parent=document.body,l(this.el,{position:"fixed",top:0,left:0,right:0,bottom:0,opacity:0}),this.updateStyle(t.options),o(this.el,"click",t.handler.clickOverlay.bind(t))},updateStyle:function(t){l(this.el,{zIndex:t.zIndex,backgroundColor:t.bgColor,transition:"opacity\n        "+t.transitionDuration+"s\n        "+t.transitionTimingFunction})},insert:function(){this.parent.appendChild(this.el)},remove:function(){this.parent.removeChild(this.el)},fadeIn:function(){this.el.offsetWidth,this.el.style.opacity=this.instance.options.bgOpacity},fadeOut:function(){this.el.style.opacity=0}},y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},b=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},_=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),x=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},w={init:function(t,e){this.el=t,this.instance=e,this.srcThumbnail=this.el.getAttribute("src"),this.srcset=this.el.getAttribute("srcset"),this.srcOriginal=a(this.el),this.rect=this.el.getBoundingClientRect(),this.translate=null,this.scale=null,this.styleOpen=null,this.styleClose=null},zoomIn:function(){var t=this.instance.options,e=t.zIndex,s=t.enableGrab,o=t.transitionDuration,r=t.transitionTimingFunction;this.translate=this.calculateTranslate(),this.scale=this.calculateScale(),this.styleOpen={position:"relative",zIndex:e+1,cursor:s?i:n,transition:u+"\n        "+o+"s\n        "+r,transform:"translate3d("+this.translate.x+"px, "+this.translate.y+"px, 0px)\n        scale("+this.scale.x+","+this.scale.y+")",height:this.rect.height+"px",width:this.rect.width+"px"},this.el.offsetWidth,this.styleClose=l(this.el,this.styleOpen,!0)},zoomOut:function(){this.el.offsetWidth,l(this.el,{transform:"none"})},grab:function(t,e,n){var i=S(),o=i.x-t,r=i.y-e;l(this.el,{cursor:s,transform:"translate3d(\n        "+(this.translate.x+o)+"px, "+(this.translate.y+r)+"px, 0px)\n        scale("+(this.scale.x+n)+","+(this.scale.y+n)+")"})},move:function(t,e,n){var i=S(),s=i.x-t,o=i.y-e;l(this.el,{transition:u,transform:"translate3d(\n        "+(this.translate.x+s)+"px, "+(this.translate.y+o)+"px, 0px)\n        scale("+(this.scale.x+n)+","+(this.scale.y+n)+")"})},restoreCloseStyle:function(){l(this.el,this.styleClose)},restoreOpenStyle:function(){l(this.el,this.styleOpen)},upgradeSource:function(){if(this.srcOriginal){var t=this.el.parentNode;this.srcset&&this.el.removeAttribute("srcset");var e=this.el.cloneNode(!1);e.setAttribute("src",this.srcOriginal),e.style.position="fixed",e.style.visibility="hidden",t.appendChild(e),setTimeout(function(){this.el.setAttribute("src",this.srcOriginal),t.removeChild(e)}.bind(this),50)}},downgradeSource:function(){this.srcOriginal&&(this.srcset&&this.el.setAttribute("srcset",this.srcset),this.el.setAttribute("src",this.srcThumbnail))},calculateTranslate:function(){var t=S(),e=this.rect.left+this.rect.width/2,n=this.rect.top+this.rect.height/2;return{x:t.x-e,y:t.y-n}},calculateScale:function(){var t=this.el.dataset,e=t.zoomingHeight,n=t.zoomingWidth,i=this.instance.options,s=i.customSize,o=i.scaleBase;if(!s&&e&&n)return{x:n/this.rect.width,y:e/this.rect.height};if(s&&"object"===(void 0===s?"undefined":y(s)))return{x:s.width/this.rect.width,y:s.height/this.rect.height};var r=this.rect.width/2,a=this.rect.height/2,l=S(),c={x:l.x-r,y:l.y-a},u=c.x/r,f=c.y/a,d=o+Math.min(u,f);if(s&&"string"==typeof s){var h=n||this.el.naturalWidth,p=e||this.el.naturalHeight,v=parseFloat(s)*h/(100*this.rect.width),g=parseFloat(s)*p/(100*this.rect.height);if(d>v||d>g)return{x:v,y:g}}return{x:d,y:d}}};function S(){var t=document.documentElement;return{x:Math.min(t.clientWidth,window.innerWidth)/2,y:Math.min(t.clientHeight,window.innerHeight)/2}}function O(t,e,n){["mousedown","mousemove","mouseup","touchstart","touchmove","touchend"].forEach((function(i){o(t,i,e[i],n)}))}return function(){function n(t){b(this,n),this.target=Object.create(w),this.overlay=Object.create(m),this.handler=Object.create(p),this.body=document.body,this.shown=!1,this.lock=!1,this.released=!0,this.lastScrollPosition=null,this.pressTimer=null,this.options=x({},h,t),this.overlay.init(this),this.handler.init(this)}return _(n,[{key:"listen",value:function(t){if("string"==typeof t)for(var n=document.querySelectorAll(t),i=n.length;i--;)this.listen(n[i]);else"IMG"===t.tagName&&(t.style.cursor=e,o(t,"click",this.handler.click),this.options.preloadImage&&r(a(t)));return this}},{key:"config",value:function(t){return t?(x(this.options,t),this.overlay.updateStyle(this.options),this):this.options}},{key:"open",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.onOpen;if(!this.shown&&!this.lock){var i="string"==typeof t?document.querySelector(t):t;if("IMG"===i.tagName){if(this.options.onBeforeOpen(i),this.target.init(i,this),!this.options.preloadImage){var s=this.target.srcOriginal;null!=s&&(this.options.onImageLoading(i),r(s,this.options.onImageLoaded))}this.shown=!0,this.lock=!0,this.target.zoomIn(),this.overlay.insert(),this.overlay.fadeIn(),o(document,"scroll",this.handler.scroll),o(document,"keydown",this.handler.keydown),this.options.closeOnWindowResize&&o(window,"resize",this.handler.resizeWindow);var a=function t(){o(i,f,t,!1),e.lock=!1,e.target.upgradeSource(),e.options.enableGrab&&O(document,e.handler,!0),n(i)};return o(i,f,a),this}}}},{key:"close",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.onClose;if(this.shown&&!this.lock){var i=this.target.el;this.options.onBeforeClose(i),this.lock=!0,this.body.style.cursor=t,this.overlay.fadeOut(),this.target.zoomOut(),o(document,"scroll",this.handler.scroll,!1),o(document,"keydown",this.handler.keydown,!1),this.options.closeOnWindowResize&&o(window,"resize",this.handler.resizeWindow,!1);var s=function t(){o(i,f,t,!1),e.shown=!1,e.lock=!1,e.target.downgradeSource(),e.options.enableGrab&&O(document,e.handler,!1),e.target.restoreCloseStyle(),e.overlay.remove(),n(i)};return o(i,f,s),this}}},{key:"grab",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.options.scaleExtra,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.options.onGrab;if(this.shown&&!this.lock){var s=this.target.el;this.options.onBeforeGrab(s),this.released=!1,this.target.grab(t,e,n);var r=function t(){o(s,f,t,!1),i(s)};return o(s,f,r),this}}},{key:"move",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.options.scaleExtra,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.options.onMove;if(this.shown&&!this.lock){this.released=!1,this.body.style.cursor=s,this.target.move(t,e,n);var r=this.target.el,a=function t(){o(r,f,t,!1),i(r)};return o(r,f,a),this}}},{key:"release",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.onRelease;if(this.shown&&!this.lock){var i=this.target.el;this.options.onBeforeRelease(i),this.lock=!0,this.body.style.cursor=t,this.target.restoreOpenStyle();var s=function t(){o(i,f,t,!1),e.lock=!1,e.released=!0,n(i)};return o(i,f,s),this}}}]),n}()}()},function(t,e){}]);