//----------------------------------------------------------------------------------------------------------------------
// GROUPS
//
// Align small elements (like buttons or tags) in a fluid flex layout with a gap between them.
//----------------------------------------------------------------------------------------------------------------------

.group
	display: flex
	position: relative
	margin: (rhythm(1) * -1) / 2 // Compensate margin of items
	flex-flow: row wrap

	// Group items
	> *
		margin: rhythm(1) / 2 // Gap between items (divided by 2 since margin is applied from both sides in flex layout)

	// Compact modifier (reduces gap size)
	&.compact
		margin: (rhythm(.5) * -1) / 2
		> *
			margin: rhythm(.5) / 2

	// Alignment modifiers
	&.left
		justify-content: flex-start
	&.right
		justify-content: flex-end
	&.center
		justify-content: center

	// Conditional alignment modifiers
	@each $size, $breakpoint in ("s": $breakpoint-s, "m": $breakpoint-m, "l": $breakpoint-l)
		+media(">=", $breakpoint)
			&.#{$size}-left
				justify-content: flex-start
			&.#{$size}-right
				justify-content: flex-end
			&.#{$size}-center
				justify-content: center

	// Larger gap for larger viewports
	+media(">=", $breakpoint-s)
		margin: (rhythm(2) * -1) / 2
		> *
			margin: rhythm(2) / 2

	// Legacy support
	// No support for alignment modifiers, use grids if they are important to your UI/UX
	+supports-no(flexboxboxsizing)
		display: block
		flex-flow: initial
		margin-top: 0
		margin-bottom: 0
		+clearfix
		> *
			float: left